<template>
  <main class="container">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/fsstep1.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/nosoftware.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/index/banner.png">
    <img data-src="/src/assets/images/home1/ddstep2.png">
    <img data-src="/src/assets/images/index/banner.png">
  </main>
</template>
<script setup lang="ts">
import { onMounted, ref } from 'vue' // introjs主题

// 传给IntersectionObserver的回调函数
// 在目标元素能看见时触发一次，目标元素看不见了时再触发一次
const observer = new IntersectionObserver((entries) => {
  entries.forEach((entry) => {
    if (entry.isIntersecting) {
      const image = entry.target;
      const data_src:any = image.getAttribute('data-src');
      console.log('src', data_src)
      image.setAttribute('src', data_src);
      // 图片被加载后取消观察
      observer.unobserve(image);
    }
  });
});

onMounted(() => {
  const images = document.querySelectorAll('img');
  images.forEach((image) => {
    console.log('src')
    observer.observe(image);
  });
})
</script>

<style scoped lang="scss">
  .container{
    font-family: 'Helvetica Neue';
    font-style: normal;
    font-weight: 500;
    font-size: 24px;
    line-height: 32px;
    color: #171B23;
    .header{
      color: #434C5B;
      font-family: 'PingFang SC';
    }
    img{
      width: 200px;
      height: 100px;
    }
  }
</style>
